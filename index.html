<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Paper Wings!</title>
  <link rel="icon" href="/p-p-online/favicon.ico">
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Roboto&display=swap" rel="stylesheet">
</head>
<body class="screen screen--menu menu-ready">
    <div id="screenWrapper">
      <div id="loadingOverlay" class="loading-overlay loading-overlay--hidden" aria-live="polite">
      <img
        src="preload_animation.gif"
        class="loading-overlay__image"
        alt="Загрузка"
        width="240"
        height="240"
      />
      </div>

      <div id="uiFrame" class="uiFrame--framed">
      <div id="uiFrameInner">
      <div id="menuLayer" class="layer layer--menu" aria-hidden="false">
        <div id="modeMenu" class="stage-460x800" aria-label="Главное меню">
          <div class="mode-menu__layer" aria-hidden="false">
            <button id="hotSeatBtn" class="mode-menu__btn mode-menu__btn--hotseat" type="button" aria-label="Hot Seat">
              <span class="visually-hidden">Hot Seat</span>
            </button>

            <button id="computerBtn" class="mode-menu__btn mode-menu__btn--computer" type="button" aria-label="Computer">
              <span class="visually-hidden">Computer</span>
            </button>

            <button id="onlineBtn" class="mode-menu__btn mode-menu__btn--online" type="button" aria-label="Online" disabled>
              <span class="visually-hidden">Online</span>
            </button>

            <button id="playBtn" class="mode-menu__btn mode-menu__btn--play" type="button" aria-label="Play" disabled>
              <span class="visually-hidden">Play</span>
            </button>

            <button id="classicRulesBtn" class="mode-menu__btn mode-menu__btn--classic selected" type="button" aria-label="Classic Rules">
              <span class="visually-hidden">Classic Rules</span>
            </button>

            <button id="advancedSettingsBtn" class="mode-menu__btn mode-menu__btn--advanced" type="button" aria-label="Advanced Settings">
              <span class="visually-hidden">Advanced Settings</span>
            </button>

            <button id="editorBtn" class="mode-menu__btn mode-menu__btn--editor" type="button" aria-label="Map Editor">
              <span>Map Editor</span>
            </button>
          </div>
          <div id="mm_plane_left_mode" class="mm-plane mm-plane--left mm-plane--mode" aria-hidden="true">
            <div class="mm-plane__bob">
              <img class="mm-plane__inner" src="ui_gamescreen/PLANES/gs_plane_green.png" alt="" draggable="false" />
            </div>
          </div>
          <div id="mm_plane_right_mode" class="mm-plane mm-plane--right mm-plane--mode" aria-hidden="true">
            <div class="mm-plane__bob">
              <img class="mm-plane__inner" src="ui_gamescreen/PLANES/gs_plane_blue.png" alt="" draggable="false" />
            </div>
          </div>
          <div id="mm_plane_left_rules" class="mm-plane mm-plane--left mm-plane--rules" aria-hidden="true">
            <div class="mm-plane__bob">
              <img class="mm-plane__inner" src="ui_gamescreen/PLANES/gs_plane_green.png" alt="" draggable="false" />
            </div>
          </div>
          <div id="mm_plane_right_rules" class="mm-plane mm-plane--right mm-plane--rules" aria-hidden="true">
            <div class="mm-plane__bob">
              <img class="mm-plane__inner" src="ui_gamescreen/PLANES/gs_plane_blue.png" alt="" draggable="false" />
            </div>
          </div>
        </div>
      </div>

      <div id="gsFrame" class="layer layer--game" hidden aria-hidden="true">
        <div id="gameStage">
          <div id="gameContainer">
            <div id="gameBackground" aria-hidden="true"></div>
            <!-- Base field and overlays -->
            <canvas id="gameCanvas" width="360" height="640" style="display:none;"></canvas>

            <!-- Full-frame overlay for the aiming arrow -->
            <canvas id="aimCanvas" width="460" height="800" style="display:none;"></canvas>

            <div id="overlayContainer" aria-hidden="true">
              <div id="overlayFxLayer" aria-hidden="true"></div>
              <!-- Overlay canvas for planes -->
              <canvas id="planeCanvas" width="360" height="640" style="display:none;"></canvas>
            </div>

            <div id="uiOverlay" aria-hidden="true">
              <canvas id="hudCanvas" class="hud-canvas" width="460" height="800" aria-hidden="true"></canvas>
                <!-- Plane counter containers -->
              <div id="gs_planecounter_green" class="plane-counter plane-counter--green" aria-hidden="true"></div>
              <div id="gs_planecounter_blue" class="plane-counter plane-counter--blue" aria-hidden="true"></div>

              <!-- Score containers -->
              <div id="blueScoreContainer" class="score-container score-container--blue" aria-hidden="true"></div>
              <div id="greenScoreContainer" class="score-container score-container--green" aria-hidden="true"></div>
            </div>

            <!-- Новый 6-слотовый inventory (runtime берёт иконки только из ui_gamescreen/gs_inventory/) -->
            <div id="inventoryLayer" aria-hidden="true">
              <div id="gs_inventory_blue" class="inventory-block" aria-hidden="true"></div>
              <div id="gs_inventory_green" class="inventory-block" aria-hidden="true"></div>
            </div>

            <div id="nuclearStrikeLayer" class="nuclear-strike-layer" hidden aria-hidden="true">
              <img id="nuclearStrikeGif" class="nuclear-strike-gif" alt="" draggable="false" />
              <div id="nuclearStrikeFlash" class="nuclear-strike-flash" aria-hidden="true"></div>
            </div>

            <div id="hudPlaneStyleProbes" aria-hidden="true"
                 style="position:absolute;width:0;height:0;overflow:hidden;clip-path:inset(50%);">
              <img src="ui_gamescreen/gamescreen_outside/planecounter_ green.png" class="hud-plane green" alt="" draggable="false">
              <img src="ui_gamescreen/gamescreen_outside/planecounter_blue.png" class="hud-plane blue" alt="" draggable="false">
            </div>

            <!-- Turn indicators -->
            <div id="mantisIndicator" class="turn-indicator" style="display:none;"></div>
            <div id="goatIndicator" class="turn-indicator" style="display:none;"></div>

            <!-- End Game Window -->
            <div id="endGameButtons" style="display:none;" role="dialog" aria-labelledby="endGamePrompt">
              <p id="endGamePrompt" class="visually-hidden">Play Again?</p>
              <button id="yesButton" class="playagain-btn playagain-btn--yes" type="button" aria-label="Play again">
                <span class="visually-hidden">Yes</span>
              </button>
              <button id="noButton" class="playagain-btn playagain-btn--no" type="button" aria-label="Return to menu">
                <span class="visually-hidden">No</span>
              </button>
            </div>

            <button
              id="mapEditorResetBtn"
              class="map-editor-reset-btn map-editor-reset-btn-positioned"
              type="button"
              aria-label="Сбросить самолёты в редакторе карты"
              hidden
            >
              <span>Reset</span>
            </button>

            <div
              id="mapEditorModeControls"
              class="map-editor-mode-controls"
              role="group"
              aria-label="Режим управления редактором карты"
              hidden
              aria-hidden="true"
            >
              <button
                id="mapEditorModeBricksBtn"
                class="map-editor-reset-btn map-editor-mode-btn"
                type="button"
                aria-label="Режим кирпичей"
                aria-pressed="true"
              >
                <span>Bricks</span>
              </button>
              <button
                id="mapEditorModePlanesBtn"
                class="map-editor-reset-btn map-editor-mode-btn"
                type="button"
                aria-label="Режим самолётов"
                aria-pressed="false"
              >
                <span>Planes</span>
              </button>
            </div>

            <div
              id="mapEditorBrickSidebar"
              class="map-editor-brick-sidebar"
              aria-hidden="true"
              hidden
            >
              <img class="map-editor-brick-sidebar__asset map-editor-brick-sidebar__asset--brick1-default" src="ui_gamescreen/bricks/brick_1_default.png" alt="" draggable="true" data-brick-sprite="brick_1_default" />
              <img class="map-editor-brick-sidebar__asset map-editor-brick-sidebar__asset--brick5-corner" src="ui_gamescreen/bricks/brick_5_corner.png" alt="" draggable="true" data-brick-sprite="brick_5_corner" />
              <img class="map-editor-brick-sidebar__asset map-editor-brick-sidebar__asset--brick3-mini" src="ui_gamescreen/bricks/brick_3_mini.png" alt="" draggable="true" data-brick-sprite="brick_3_mini" />
              <img class="map-editor-brick-sidebar__asset map-editor-brick-sidebar__asset--brick2-brokenciga" src="ui_gamescreen/bricks/brick_2_brokenciga.png" alt="" draggable="true" data-brick-sprite="brick_2_brokenciga" />
              <img class="map-editor-brick-sidebar__asset map-editor-brick-sidebar__asset--brick4-diagonal" src="ui_gamescreen/bricks/brick4_diagonal copy.png" alt="" draggable="true" data-brick-sprite="brick_4_diagonal" />
            </div>
          </div>
        </div>
        <div id="fxHostLayer" aria-hidden="true"></div>
      </div>
      <div id="boardDimmerLayer" aria-hidden="true">
        <div id="boardDimmerHole" aria-hidden="true"></div>
      </div>

      <div id="settingsLayer" class="layer layer--settings" hidden aria-hidden="true">
        <div class="stage-460x800">
          <div class="settings-container">
            <div id="settingsMenu">
              <h1 class="game-title"><span class="visually-hidden">Advanced Settings</span></h1>
            </div>

            <!-- Рабочий блок для приложения: изменения в .cp-adds сначала вносить здесь, затем синхронизировать settings.html -->
            <div class="cp-adds" role="group" aria-label="Дополнительные настройки">
              <div id="frame_adds_1_cargo" class="cp-adds__preview" aria-hidden="true">
                <img
                  id="cargo_preview_off"
                  src="ui_controlpanel/cp_adds/cp_cargo_off.png"
                  alt=""
                  aria-hidden="true"
                />
                <img
                  id="cargo_preview_on"
                  src="ui_controlpanel/cp_adds/cp_cargo on_gif.gif"
                  alt=""
                  aria-hidden="true"
                />
              </div>
              <div id="frame_adds_2_flags" class="cp-adds__preview" aria-hidden="true">
                <img
                  id="flags_preview_off"
                  src="ui_controlpanel/cp_adds/cp_flags_off2.png"
                  alt=""
                  aria-hidden="true"
                />
                <img
                  id="flags_preview_on"
                  src="ui_controlpanel/cp_adds/cp_flags_on.gif"
                  alt=""
                  aria-hidden="true"
                />
              </div>
              <div id="frame_adds_3_arcade" class="cp-adds__preview" aria-hidden="true">
                <img
                  id="arcade_preview_still"
                  src="ui_controlpanel/cp_adds/cp_arcade_off.png"
                  alt=""
                  aria-hidden="true"
                />
                <img
                  id="arcade_preview_gif"
                  src="ui_controlpanel/cp_adds/cp_arcade_on2.gif"
                  alt=""
                  aria-hidden="true"
                />
              </div>

              <div class="cp-adds__frame" aria-hidden="true"></div>

              <button
                id="instance_adds_tumbler1_cargo"
                class="cp-adds__btn"
                type="button"
                aria-pressed="false"
                aria-label="Переключить острые края"
              >
                <span class="visually-hidden">Переключить острые края</span>
              </button>

              <button
                id="instance_adds_tumbler2_flags"
                class="cp-adds__btn"
                type="button"
                aria-pressed="false"
                aria-label="Переключить ПВО"
              >
                <span class="visually-hidden">Переключить ПВО</span>
              </button>

              <button
                id="instance_adds_tumbler3_arcade"
                class="cp-adds__btn"
                type="button"
                aria-pressed="false"
                aria-label="Переключить груз"
              >
                <span class="visually-hidden">Переключить груз</span>
              </button>
            </div>

            <div class="cp-aiming-accuracy" role="group" aria-label="Настройка точности прицеливания">
              <div id="frame_accuracy_1_visual" aria-hidden="true">
                <div class="pendulum-hook"></div>
                <div class="pendulum">
                  <div class="pendulum-rope"></div>
                  <div class="pendulum-bob"></div>
                </div>
                <div id="accuracyCrackOverlay" aria-hidden="true"></div>
              </div>

              <div id="amplitudeIndicator" class="cp-aiming-accuracy__indicator">
                <div
                  id="frame_accuracy_2_counter"
                  class="accuracy-display accuracy-legacy-digits--hidden"
                  role="status"
                  aria-live="polite"
                >
                  <div class="accuracy-display__viewport" id="accuracyDisplayViewport">
                    <div class="accuracy-display__layer" id="accuracyDisplayLayer">
                      <div class="accuracy-display__track" id="accuracyDisplayTrack">
                        <div class="accuracy-tape" aria-hidden="true"></div>
                        <div class="accuracy-display__item accuracy-display__item--current" id="accuracyDisplayItem">
                          <span id="amplitudeAngleDisplay" class="accuracy-display__value accuracy-display__value--current">90%</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="cp-aiming-accuracy__frame" aria-hidden="true"></div>

              <button
                id="instance_accuracy_left"
                class="cp-aiming-accuracy__btn cp-aiming-accuracy__btn--left"
                type="button"
                aria-label="Уменьшить амплитуду прицеливания"
              >
                <span class="visually-hidden">Уменьшить амплитуду прицеливания</span>
              </button>
              <button
                id="instance_accuracy_right"
                class="cp-aiming-accuracy__btn cp-aiming-accuracy__btn--right"
                type="button"
                aria-label="Увеличить амплитуду прицеливания"
              >
                <span class="visually-hidden">Увеличить амплитуду прицеливания</span>
              </button>
            </div>

            <div class="cp-range" role="group" aria-label="Настройка дальности полёта">
              <div id="rangeIndicator" class="cp-range__indicator">
                <div id="range_frame_visual" aria-hidden="true">
                  <div class="range-visual">
                    <div class="contrail-container contrail-container--top">
                      <img
                        id="contrail1"
                        class="contrail"
                        src="ui_controlpanel/cp_range_contrail1.gif"
                        onerror="console.warn('Не удалось загрузить cp_range_contrail1.gif'); this.onerror=null;"
                        alt=""
                        aria-hidden="true"
                      />
                    </div>
                    <div class="contrail-container contrail-container--bottom">
                      <img
                        id="contrail2"
                        class="contrail"
                        src="ui_controlpanel/cp_range_contrail2.gif"
                        onerror="console.warn('Не удалось загрузить cp_range_contrail2.gif'); this.onerror=null;"
                        alt=""
                        aria-hidden="true"
                      />
                    </div>
                    <img
                      id="flameTrail"
                      class="jet-flame jet-flame--trail"
                      src="ui_controlpanel/cp_range_flame_trail4.gif"
                      onerror="console.warn('Не удалось загрузить cp_range_flame_trail4.gif'); this.onerror=null;"
                      alt=""
                      aria-hidden="true"
                    />
                    <img class="jet-plane" src="ui_controlpanel/cp_range_plane 2.png" alt="" />
                  </div>
                </div>
              </div>

                <div
                  id="range_frame_counter"
                  class="range-display range-legacy-digits--hidden"
                  role="status"
                  aria-live="polite"
                >
                  <div class="range-display__viewport" id="rangeDisplayViewport">
                    <div class="range-display__layer" id="rangeDisplayLayer">
                      <div class="range-display__track" id="rangeDisplayTrack">
                        <div class="range-tape" aria-hidden="true"></div>
                        <div class="range-display__item range-display__item--current" id="rangeDisplayItem">
                          <span id="rangeDisplay" class="range-display__value range-display__value--current">30</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              <div class="cp-range__frame" aria-hidden="true"></div>

              <button
                id="rangeBtnLeft"
                class="cp-range__btn cp-range__btn--left"
                type="button"
                aria-label="Уменьшить дальность полёта"
              >
                <span class="visually-hidden">Уменьшить дальность полёта</span>
              </button>
              <button
                id="rangeBtnRight"
                class="cp-range__btn cp-range__btn--right"
                type="button"
                aria-label="Увеличить дальность полёта"
              >
                <span class="visually-hidden">Увеличить дальность полёта</span>
              </button>
            </div>

            <div class="cp-field-selector" role="group" aria-label="Выбор карты">
              <div class="cp-field-selector__indicator" aria-hidden="true">
                <div id="frame_field_1_visual">
                  <div id="mapPreview" class="cp-field-selector__preview"></div>
                  <div class="cp-field-selector__objects" aria-hidden="true">
                    <div id="f_g_plane1" class="cp-field-selector__object cp-field-selector__object--green-plane"></div>
                    <div id="f_g_plane2" class="cp-field-selector__object cp-field-selector__object--green-plane"></div>
                    <div id="f_g_plane3" class="cp-field-selector__object cp-field-selector__object--green-plane"></div>
                    <div id="f_g_plane4" class="cp-field-selector__object cp-field-selector__object--green-plane"></div>
                    <div id="f_g_flag" class="cp-field-selector__object cp-field-selector__object--green-flag"></div>

                    <div id="f_b_plane1" class="cp-field-selector__object cp-field-selector__object--blue-plane"></div>
                    <div id="f_b_plane2" class="cp-field-selector__object cp-field-selector__object--blue-plane"></div>
                    <div id="f_b_plane3" class="cp-field-selector__object cp-field-selector__object--blue-plane"></div>
                    <div id="f_b_plane4" class="cp-field-selector__object cp-field-selector__object--blue-plane"></div>
                    <div id="f_b_flag" class="cp-field-selector__object cp-field-selector__object--blue-flag"></div>
                  </div>
                </div>
                <div id="cp_field_selector_root" class="cp-field-selector-root" aria-hidden="true">
                  <div class="fieldSelectorViewport">
                    <div class="fieldSelectorTrack">
                      <div class="fieldLabelTrack">
                        <div class="fieldLabelSlot fieldLabelSlot--prev"></div>
                        <div class="fieldLabelSlot fieldLabelSlot--current"></div>
                        <div class="fieldLabelSlot fieldLabelSlot--next"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="cp-field-selector__frame" aria-hidden="true"></div>

              <button
                id="instance_field_left"
                class="cp-field-selector__btn cp-field-selector__btn--left"
                type="button"
                aria-label="Предыдущая карта"
              >
                <span class="visually-hidden">Предыдущая карта</span>
              </button>
              <button
                id="instance_field_right"
                class="cp-field-selector__btn cp-field-selector__btn--right"
                type="button"
                aria-label="Следующая карта"
              >
                <span class="visually-hidden">Следующая карта</span>
              </button>
            </div>

            <div class="cp-actions" role="group" aria-label="Управление настройками">
              <div class="cp-actions__frame" aria-hidden="true"></div>

              <button
                id="instance_reset"
                class="cp-actions__btn cp-actions__btn--reset"
                type="button"
                aria-label="Сбросить настройки"
              >
                <span class="visually-hidden">Сбросить настройки</span>
              </button>

              <button
                id="instance_exit"
                class="cp-actions__btn cp-actions__btn--exit"
                type="button"
                aria-label="Вернуться в главное меню"
              >
                <span class="visually-hidden">Вернуться в главное меню</span>
              </button>
            </div>
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>

  <script src="maps.js"></script>
  <script src="settings.js"></script>
  <script src="script.js"></script>
</body>
</html>
